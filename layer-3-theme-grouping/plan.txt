Layer Goal: Cluster review segments into up to five actionable themes.

Key Steps:
1. Embeddings: Generate vectors using OpenAI text-embedding-3-small (or local alternative) per segment.
2. Clustering: Run HDBSCAN or agglomerative clustering with cosine distance; enforce cap by merging smallest clusters until ≤5 remain.
2.5 : Call API of Gemini 3 for the LLM
3. Theme Labels: Prompt LLM with top representative sentences to produce 3-4 word labels and short descriptions.
4. Theme Metrics: Calculate share of mentions, avg sentiment, and platform mix per theme for prioritization.
5. Traceability: Maintain mapping from theme → segments → original review ids for quotes and audits.
 
------------
